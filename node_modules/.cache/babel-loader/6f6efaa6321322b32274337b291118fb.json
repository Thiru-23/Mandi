{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\uriht\\\\OneDrive\\\\Desktop\\\\DigitalMandi-main\\\\src\\\\Components\\\\AfterBidCard.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useContext, useState } from \"react\";\nimport noteContext from \"../Context/Crops/CropContext\";\nimport { useHistory } from \"react-router-dom\"; // import cropimg from \"../../Backend/images/\"\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AfterBidCard = props => {\n  _s();\n\n  const context = useContext(noteContext);\n  const {\n    deleteNote\n  } = context;\n  const [high, setHigh] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  let history = useHistory();\n  const {\n    crop\n  } = props;\n  /* const { crop, updateNote ,disply} = props; */\n\n  let date = crop.date;\n  console.log(crop._id);\n  const idd = crop._id;\n\n  const higheat = async () => {\n    const resp = await fetch(`${process.env.REACT_APP_BACKEND_URL}/api/buy/merchant/highestprice/${crop._id}`, {\n      method: \"GET\"\n    });\n    const rate = await resp.json();\n    setHigh(rate.highest);\n\n    if (resp.status !== 200) {\n      window.alert(rate);\n    }\n  };\n\n  higheat();\n\n  const Detail = async () => {\n    const resp = await fetch(`${process.env.REACT_APP_BACKEND_URL}/api/sell/farmer/mname/${crop.merchant}`, {\n      method: \"GET\"\n    });\n    const rate = await resp.json();\n    /* console.log(rate) */\n\n    setName(rate.name);\n    setNumber(rate.phoneno);\n\n    if (resp.status !== 200) {\n      window.alert(rate);\n      history.push(\"/farmerdashboard\");\n    }\n  };\n\n  Detail();\n\n  const handledealClick = async () => {\n    const response = await fetch(`${process.env.REACT_APP_BACKEND_URL}/api/sell/farmer/confirm/${idd}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        auth: localStorage.getItem(\"token\")\n      }\n    });\n    const crop = await response.json();\n    console.log(response.status);\n\n    if (response.status === 200) {\n      window.alert(\"Deal successfull\");\n      history.push(\"/farmerdashboard\");\n    } else {\n      window.alert(crop);\n      history.push(\"/current\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    class: \"\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container py-2\",\n      children: /*#__PURE__*/_jsxDEV(\"article\", {\n        class: \"postcard light blue\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          class: \"postcard__img_link\",\n          href: \"#\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            class: \"postcard__img\",\n            src: `${crop.image}`,\n            alt: \"Image Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"postcard__text t-dark\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            class: \"postcard__title blue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"postcard__subtitle  \",\n            children: /*#__PURE__*/_jsxDEV(\"time\", {\n              datetime: \"2020-05-25 12:00:00 \",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-calendar-alt my-4 mx-1 \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this), new Date(date).toGMTString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"postcard__preview-txt\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Crop: \", crop.cropName, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Address: \", crop.address, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Plot No.: \", crop.plotno, \" \\u2003 \\u2003 Net weight:\", crop.weight]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\" Market:\", crop.market]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                \"font-weight\": \"Bold\"\n              },\n              children: [\"Highest-bid: \", high]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Current bid: \", crop.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            class: \"postcard__tagbox\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              class: \"tag__item play blue\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `https://api.whatsapp.com/send?phone=${number} `,\n                target: \"_blank\",\n                rel: \"noreferrer\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fa fa-whatsapp\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 17\n                }, this), \" Chat with merchant\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              class: \"tag__item play green\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn fw-bold text-uppercase  fa fa-check\",\n                type: \"submit\",\n                onClick: handledealClick,\n                children: \"Accept Deal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AfterBidCard, \"6OUdjLRwNhcfnQLlFYlUpJG85z0=\", false, function () {\n  return [useHistory];\n});\n\n_c = AfterBidCard;\nexport default AfterBidCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"AfterBidCard\");","map":{"version":3,"sources":["C:/Users/uriht/OneDrive/Desktop/DigitalMandi-main/src/Components/AfterBidCard.js"],"names":["React","useContext","useState","noteContext","useHistory","AfterBidCard","props","context","deleteNote","high","setHigh","name","setName","number","setNumber","history","crop","date","console","log","_id","idd","higheat","resp","fetch","process","env","REACT_APP_BACKEND_URL","method","rate","json","highest","status","window","alert","Detail","merchant","phoneno","push","handledealClick","response","headers","auth","localStorage","getItem","image","Date","toGMTString","cropName","address","plotno","weight","market","price"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useContext, useState } from \"react\";\nimport noteContext from \"../Context/Crops/CropContext\";\nimport { useHistory } from \"react-router-dom\";\n// import cropimg from \"../../Backend/images/\"\nconst AfterBidCard = (props) => {\n  const context = useContext(noteContext);\n  const { deleteNote } = context;\n  const [high, setHigh] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  let history = useHistory();\n  const { crop } = props;\n  /* const { crop, updateNote ,disply} = props; */\n    let  date=crop.date\n   console.log(crop._id); \n  const idd=crop._id;\n    const higheat =async ()=> {\n      const resp= await fetch(`${process.env.REACT_APP_BACKEND_URL}/api/buy/merchant/highestprice/${crop._id}`, {\n      method: \"GET\",\n      \n    });\n    \n  const rate = await resp.json();\n  \n  setHigh(rate.highest);\n  \n    \n    if (resp.status !== 200) {\n      window.alert(rate);\n      \n    }\n  };\n  higheat();\n  const Detail =async ()=> {\n    const resp= await fetch(`${process.env.REACT_APP_BACKEND_URL}/api/sell/farmer/mname/${crop.merchant}`, {\n    method: \"GET\",\n    \n  });\n  \nconst rate = await resp.json();\n/* console.log(rate) */\nsetName(rate.name);\nsetNumber(rate.phoneno)\n  \n  if (resp.status !== 200) {\n    window.alert(rate);\n    history.push(\"/farmerdashboard\");\n  }\n};\nDetail();\n\n  const handledealClick = async ()=>{\n    const response = await fetch(`${process.env.REACT_APP_BACKEND_URL}/api/sell/farmer/confirm/${idd}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        auth: localStorage.getItem(\"token\"),\n      },\n      \n    });\n\n    const crop = await response.json();\n    console.log(response.status);\n    if (response.status === 200) {\n      window.alert(\"Deal successfull\");\n      history.push(\"/farmerdashboard\");\n    } else {\n      window.alert(crop);\n      history.push(\"/current\");\n      \n    }\n  }\n  return (\n    \n    <section class=\"\">\n      <div class=\"container py-2\">\n        {/* <div class=\"h1 text-center text-dark\" id=\"pageHeaderTitle\">\n          My Cards Light\n        </div> */}\n\n        <article class=\"postcard light blue\">\n          <a class=\"postcard__img_link\" href=\"#\">\n            <img\n              class=\"postcard__img\"\n              src={`${crop.image}`}\n              alt=\"Image Title\"\n            />\n          </a>\n          <div class=\"postcard__text t-dark\">\n            <h1 class=\"postcard__title blue\">\n              {/* <a href=\"#\">Podcast Title</a> */}\n            </h1>\n            <div class=\"postcard__subtitle  \">\n              <time datetime=\"2020-05-25 12:00:00 \">\n                <i class=\"fas fa-calendar-alt my-4 mx-1\n                \"></i>\n               {new Date(date).toGMTString()}\n              </time>\n            </div>\n            {/* <div class=\"postcard__bar\"></div> */}\n            <div class=\"postcard__preview-txt\">\n              <p>Crop: {crop.cropName} </p>\n              <p>Address: {crop.address} </p>\n              \n              <p>\n                Plot No.: {crop.plotno} &emsp; &emsp; Net weight:{crop.weight}\n              </p>\n              <p> Market:{crop.market}</p>\n              <p style={{\n                      \"font-weight\": \"Bold\",\n                    }} >Highest-bid: {high }</p>\n              <p>Current bid: {crop.price}</p>\n            </div>\n            <ul class=\"postcard__tagbox\">\n            <li class=\"tag__item play blue\">\n                <a href={`https://api.whatsapp.com/send?phone=${number} `} target=\"_blank\" rel=\"noreferrer\">\n                <i class=\"fa fa-whatsapp\" aria-hidden=\"true\"></i> Chat with merchant \n                </a>\n               {/*  <a href=\"https://api.whatsapp.com/send?phone=919795141300 \" target=\"_blank\" rel=\"noreferrer\" class=\"whatsapp-link\"><img class=\"whatsapp-link\" src=\"whatsapp-link.png\" alt=\"\"> </a> */}\n\n              </li>\n              <li class=\"tag__item play green\">\n                \n                <button\n                    className=\"btn fw-bold text-uppercase  fa fa-check\" \n                    type=\"submit\"\n                     onClick={handledealClick} \n                  >\n                    {/* <i class=\"fa fa-check\" aria-hidden=\"true\"></i> Accept Deal */}\n                    Accept Deal\n                  </button>\n               \n                \n              </li>\n             {/*  <li class=\"tag__item play red\">\n                <a href=\"#\">\n                <i class=\"fa fa-trash\" aria-hidden=\"true\"></i> Delete\n                </a>\n              </li> */}\n            </ul>\n          </div>\n        </article>\n      </div>\n    </section>\n  );\n};\n\nexport default AfterBidCard;\n"]},"metadata":{},"sourceType":"module"}